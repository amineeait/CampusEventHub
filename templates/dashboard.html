{% extends "layout.html" %}

{% block title %}Dashboard - Campus Event Management{% endblock %}

{% block content %}
  <!-- This is a router template that redirects to role-specific dashboards -->
  <div class="container py-5">
    <div class="text-center">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
      <p class="mt-3">Redirecting to your dashboard...</p>
    </div>
  </div>

  <script>
    // Redirect to the appropriate dashboard based on user role
    document.addEventListener('DOMContentLoaded', function() {
      {% if current_user.is_admin() %}
        window.location.href = "{{ url_for('admin_dashboard') }}";
      {% elif current_user.is_organizer() %}
        window.location.href = "{{ url_for('organizer_dashboard') }}";
      {% else %}
        window.location.href = "{{ url_for('student_dashboard') }}";
      {% endif %}
    });
  </script>
{% endblock %}
